meta {
  name: Create checklist
  type: http
  seq: 2
}

post {
  url: {{baseUrl}}/api/checklists
  body: json
  auth: inherit
}

headers {
  Content-Type: application/json
}

body:json {
  {
    "name": "Standard-Inspektion Turbine A",
    "plantName": "Werk Mannheim",
    "recommendations": "Vor Beginn der Inspektion Sicherheitscheck durchführen.",
    "steps": [
      {
        "description": "Sichtprüfung Gehäuse",
        "requirement": "Keine sichtbaren Schäden.",
        "orderIndex": 1
      },
      {
        "description": "Ölstand prüfen",
        "requirement": "Ölstand im grünen Bereich.",
        "orderIndex": 2
      }
    ]
  }
  
}

tests {
  if (res.body && res.body.id) {
    bru.setEnvVar("checklistId", res.body.id);
  }
}

settings {
  encodeUrl: true
  timeout: 0
}
